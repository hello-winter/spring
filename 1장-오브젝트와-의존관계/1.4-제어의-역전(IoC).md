# 1.4 제어의 역전

## 오브젝트 팩토리
- 지금까지의 리펙토링은 책임이나 관심사를 분리해 왔는데 테스트 코드도 책임과 관심사를 분리하자
- 분리시킬 기능을 담당할 클래스를 만들어 객체의 생성방법을 결정하고 만들어진 오브젝트를 돌려주도록 분리하자 (이런기능을 팩토리라고 부른다. 디자인패턴의 팩토리 메소드패턴이나 추상 팩토리 패턴 과는 다르다)


```java
public class AppMain {
	public static void main(String[] args) throws ClassNotFoundException, SQLException {
		ConnectionMaker connectionMaker = new DConnectionMaker();
		UserDao userDao = new UserDao(connectionMaker);

		User user = new User();
		user.setId("test00");
		user.setName("홍길동");
		user.setPassword("password00");

		userDao.add(user);

		System.out.println(user.getId() + " 등록 성공");

		User user2 = userDao.get(user.getId());
		System.out.println(user2.getName());
	}
}
```
